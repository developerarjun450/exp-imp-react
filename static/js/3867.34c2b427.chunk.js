"use strict";(self.webpackChunk_coreui_coreui_free_react_admin_template=self.webpackChunk_coreui_coreui_free_react_admin_template||[]).push([[3867],{8817:(e,t,i)=>{i.d(t,{Z:()=>o});var a=i(55294);const s="http://localhost:4000/api",n={storeDetails:async(e,t)=>{console.log("pppp=>",t);try{return(await a.Z.post("".concat(s,"/admin/continents/store-educational-institutes"),t,{headers:{"Content-Type":"multipart/form-data",Authorization:e}})).data}catch(i){throw i.response?i.response.data:i.message+"--"+i.name}},fetchDetailsById:async(e,t)=>{try{return(await a.Z.get("".concat(s,"/admin/continents/").concat(t.continent,"/").concat(t.instituteId,"/institute-detail"),{headers:{Authorization:e}})).data}catch(i){throw i.response?i.response.data:i.message+"--"+i.name}},updateInstitueDetails:async(e,t)=>{try{return(await a.Z.post("".concat(s,"/admin/continents/institute-detail-update"),t,{headers:{"Content-Type":"multipart/form-data",Authorization:e}})).data}catch(i){throw i.response?i.response.data:i.message+"--"+i.name}},removeFileFromDetails:async(e,t)=>{try{return(await a.Z.post("".concat(s,"/admin/continents/institute-detail-remove-file"),t,{headers:{Authorization:e}})).data}catch(i){throw i.response?i.response.data:i.message+"--"+i.name}}},o={storeInstituteDetails:async(e,t)=>{try{return await n.storeDetails(e,t)}catch(i){throw i}},fetchInstituteDetailsById:async(e,t)=>{try{return await n.fetchDetailsById(e,t)}catch(i){throw i}},removeFileFromDetailsController:async(e,t)=>{try{return await n.removeFileFromDetails(e,t)}catch(i){throw i}},updateInstituteDetail:async(e,t)=>{try{return await n.updateInstitueDetails(e,t)}catch(i){throw i}}}},23867:(e,t,i)=>{i.r(t),i.d(t,{default:()=>k});var a=i(72791),s=i(57689),n=i(30734),o=i(45471),l=i(55087),d=i(77618),r=i(6265),c=i(48113),m=i(26775),h=i(95294),u=i(2328),x=i(27316),j=i(71987),p=i(25512),y=i(43048),v=i(22618),C=i(69759),g=i(8817),b=i(31409),f=i(80184);const k=()=>{const[e,t]=(0,a.useState)(!1),[i,k]=(0,a.useState)(!1),L=b.Z.getAccessToken(),I=(0,s.s0)(),F=(0,s.TH)(),{institueData:w,continent:D,countryId:S}=F.state||{};console.log("institueData, continent, countryId===>",w,D,S);const[N,E]=(0,a.useState)([{name:"areaOfStudy-name",studentCount:"areaOfStudy-studentsCount",rating:"areaOfStudy-rating"}]),[O,V]=(0,a.useState)(1),[_,T]=(0,a.useState)([{name:"teacherlist-nameOfTheTeacher",specializedIn:"teacherlist-specializedIn",experience:"teacherlist-expirence"}]),[q,z]=(0,a.useState)(1),[A,R]=(0,a.useState)([{name:"aminitiesList-name",description:"aminitiesList-description"}]),[P,Z]=(0,a.useState)(1),[B,U]=(0,a.useState)([]),[G,H]=(0,a.useState)([]),[M,Y]=(0,a.useState)([]);return(0,f.jsx)(n.r,{children:(0,f.jsx)(o.b,{xs:12,children:(0,f.jsxs)(l.x,{className:"mb-4",children:[(0,f.jsxs)(d.b,{children:[(0,f.jsx)("strong",{children:"Institute"})," ",(0,f.jsx)("small",{children:"Store Institue"})]}),(0,f.jsxs)(r.s,{children:[(0,f.jsx)("p",{className:"text-body-secondary small",children:"Store education details here."}),(0,f.jsx)("p",{className:"text-body-secondary small",children:"Under maintanace"}),(0,f.jsx)(C.q3,{href:"forms/validation",children:(0,f.jsxs)(c.l,{className:"row g-3 needs-validation",noValidate:!0,validated:e,onSubmit:async e=>{const a=e.target;if(console.log("file=>",e.target),!1===a.checkValidity())e.preventDefault(),e.stopPropagation();else{e.preventDefault(),t(!0);const n=new FormData(a);console.log("relatedVideosFilesForPostData=>",typeof B);let o=[],l=[],d=[];Object.values(B).forEach(((e,t)=>{o.push(e)})),Object.values(G).forEach(((e,t)=>{l.push(e)})),Object.values(M).forEach(((e,t)=>{d.push(e)})),console.log(n,"<=formData"),console.log("event=>",e);const r={};n.forEach(((e,t)=>{r[t]="relatedDocuments"===t?l:"relatedImages"===t?d:"relatedVideos"===t?o:e})),r.countryId=S,r.continent=D;let c=[];console.log(r);try{c=await g.Z.storeInstituteDetails(L,r),console.log("response==>",c),localStorage.setItem("tokenStatus",c.data.tokenStatus),U([]),H([]),Y([]),c.success&&(w.push(c.data),I("/admin/courses/continents/educational-institutes",{replace:!0,state:{institueData:w,countryId:S,continent:D}}))}catch(s){if(console.log(s),400===s.statusCode){let e=[];s.errors.forEach((t=>{e[t.param]=t.msg})),k(e),console.log("backEndValidation =>",i)}401===s.statusCode&&I("/admin/login",{replace:!0})}}t(!0)},encType:"multipart/form-data",children:[(0,f.jsxs)(o.b,{md:4,children:[(0,f.jsx)(m.L,{htmlFor:"validationCustom01",children:"Institute Name"}),(0,f.jsx)(h.j,{type:"text",id:"validationCustom01",style:{},defaultValue:"Mark",name:"name",required:!0}),i.name?(0,f.jsx)(u.C,{style:{display:"block"},invalid:!0,children:i.name}):(0,f.jsx)(u.C,{valid:!0,children:"Looks good!"})]}),(0,f.jsxs)(o.b,{md:4,children:[(0,f.jsx)(m.L,{htmlFor:"validationCustom02",children:"Short Name"}),(0,f.jsx)(h.j,{type:"text",id:"validationCustom02",defaultValue:"Otto",name:"shortName",required:!0}),i.shortName?(0,f.jsx)(u.C,{style:{display:"block"},invalid:!0,children:i.shortName}):(0,f.jsx)(u.C,{valid:!0,children:"Looks good!"})]}),(0,f.jsxs)(o.b,{md:4,children:[(0,f.jsx)(m.L,{htmlFor:"validationCustomUsername",children:"Email"}),(0,f.jsxs)(x.Y,{className:"has-validation",children:[(0,f.jsx)(j.w,{id:"inputGroupPrepend",children:"@"}),(0,f.jsx)(h.j,{type:"text",id:"validationCustomUsername",defaultValue:"",name:"email","aria-describedby":"inputGroupPrepend",required:!0}),i.email?(0,f.jsx)(u.C,{style:{display:"block"},invalid:!0,children:i.email}):(0,f.jsx)(u.C,{valid:!0,children:"Looks good!"})]})]}),(0,f.jsxs)(o.b,{md:6,children:[(0,f.jsx)(m.L,{htmlFor:"validationCustom03",children:"City"}),(0,f.jsx)(h.j,{type:"text",id:"validationCustom03",name:"city",required:!0}),i.city?(0,f.jsx)(u.C,{style:{display:"block"},invalid:!0,children:i.city}):(0,f.jsx)(u.C,{valid:!0,children:"Looks good!"})]}),(0,f.jsxs)(o.b,{md:3,children:[(0,f.jsx)(m.L,{htmlFor:"validationCustom04",children:"District"}),(0,f.jsx)(h.j,{type:"text",id:"validationCustom04",name:"district",required:!0}),i.district?(0,f.jsx)(u.C,{style:{display:"block"},invalid:!0,children:i.district}):(0,f.jsx)(u.C,{valid:!0,children:"Looks good!"})]}),(0,f.jsxs)(o.b,{md:3,children:[(0,f.jsx)(m.L,{htmlFor:"validationCustom05",children:"State"}),(0,f.jsx)(h.j,{type:"text",id:"validationCustom05",name:"state",required:!0}),i.state?(0,f.jsx)(u.C,{style:{display:"block"},invalid:!0,children:i.state}):(0,f.jsx)(u.C,{valid:!0,children:"Looks good!"})]}),(0,f.jsxs)(o.b,{md:6,children:[(0,f.jsx)(m.L,{htmlFor:"validationCustom06",children:"Phone"}),(0,f.jsx)(h.j,{type:"text",id:"validationCustom06",name:"phone",required:!0}),i.phone?(0,f.jsx)(u.C,{style:{display:"block"},invalid:!0,children:i.phone}):(0,f.jsx)(u.C,{valid:!0,children:"Looks good!"})]}),(0,f.jsxs)(o.b,{md:6,children:[(0,f.jsx)(m.L,{htmlFor:"validationCustom07",children:"Location"}),(0,f.jsx)(h.j,{type:"text",id:"validationCustom07",name:"location",required:!0}),i.location?(0,f.jsx)(u.C,{style:{display:"block"},invalid:!0,children:i.location}):(0,f.jsx)(u.C,{valid:!0,children:"Looks good!"})]}),(0,f.jsxs)(o.b,{md:12,children:[(0,f.jsx)(m.L,{htmlFor:"validationCustom06",children:"Description"}),(0,f.jsx)(p.P,{type:"text",id:"validationCustom06",name:"description",required:!0}),i.description?(0,f.jsx)(u.C,{style:{display:"block"},invalid:!0,children:i.description}):(0,f.jsx)(u.C,{valid:!0,children:"Looks good!"})]}),(0,f.jsxs)(o.b,{md:6,children:[(0,f.jsx)(m.L,{htmlFor:"validationCustom08",children:"Title Image"}),(0,f.jsx)(h.j,{type:"file",accept:"image/*",id:"validationCustom08",name:"titleImage"}),i.titleImage?(0,f.jsx)(u.C,{style:{display:"block"},invalid:!0,children:i.titleImage}):(0,f.jsx)(u.C,{valid:!0,children:"Looks good!"})]}),(0,f.jsxs)(o.b,{md:6,children:[(0,f.jsx)(m.L,{htmlFor:"validationCustom09",children:"Related Documents"}),(0,f.jsx)(h.j,{type:"file",id:"validationCustom09",onChange:e=>{const t=e.target.files;H(t)},multiple:!0,accept:".doc, .docx, application/msword, application/vnd.openxmlformats-officedocument.wordprocessingml.document, .xls, .xlsx, application/vnd.ms-excel, application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",name:"relatedDocuments"}),i.relatedDocuments?(0,f.jsx)(u.C,{style:{display:"block"},invalid:!0,children:i.relatedDocuments}):(0,f.jsx)(u.C,{valid:!0,children:"Looks good!"})]}),(0,f.jsxs)(o.b,{md:6,children:[(0,f.jsx)(m.L,{htmlFor:"validationCustom10",children:"Related Videos"}),(0,f.jsx)(h.j,{type:"file",id:"validationCustom10",multiple:!0,accept:".mp4, .avi, .mkv,.webm",name:"relatedVideos",onChange:e=>{const t=e.target.files;U(t)}}),i.relatedVideos?(0,f.jsx)(u.C,{style:{display:"block"},invalid:!0,children:i.relatedVideos}):(0,f.jsx)(u.C,{valid:!0,children:"Looks good!"})]}),(0,f.jsxs)(o.b,{md:6,children:[(0,f.jsx)(m.L,{htmlFor:"validationCustom11",children:"Related Images"}),(0,f.jsx)(h.j,{type:"file",id:"validationCustom11",multiple:!0,onChange:e=>{const t=e.target.files;Y(t)},accept:"image/*",name:"relatedImages"}),i.relatedImages?(0,f.jsx)(u.C,{style:{display:"block"},invalid:!0,children:i.relatedImages}):(0,f.jsx)(u.C,{valid:!0,children:"Looks good!"})]}),(0,f.jsx)(y.n,{variant:"underline-border"}),(0,f.jsx)(d.b,{children:(0,f.jsx)("strong",{children:"Areas Of Study"})}),N.map(((e,t)=>(0,f.jsxs)(a.Fragment,{children:[(0,f.jsxs)(o.b,{md:4,children:[(0,f.jsx)(m.L,{htmlFor:"validationCustom12",children:"Name"}),(0,f.jsx)(h.j,{type:"text",id:"validationCustom12",name:e.name})]}),(0,f.jsxs)(o.b,{md:4,children:[(0,f.jsx)(m.L,{htmlFor:"validationCustom13",children:"Number of students"}),(0,f.jsx)(h.j,{type:"text",id:"validationCustom13",name:e.studentCount})]}),(0,f.jsxs)(o.b,{md:4,children:[(0,f.jsx)(m.L,{htmlFor:"validationCustom14",children:"Rating out of 10"}),(0,f.jsx)(h.j,{type:"text",id:"validationCustom14",name:e.rating})]})]},t))),(0,f.jsxs)(o.b,{xs:12,className:"text-end",children:[(0,f.jsx)(v.u,{color:"primary",style:{marginRight:"20px"},onClick:()=>{const e=parseInt(O)+1;V(e),console.log(e),E((t=>[...t,{name:"areaOfStudy-name-".concat(e),studentCount:"areaOfStudy-studentsCount-".concat(e),rating:"areaOfStudy-rating-".concat(e)}]))},children:"Add New Entry"}),N.length>1&&(0,f.jsx)(v.u,{color:"danger",style:{color:"white"},onClick:()=>(()=>{const e=N.slice(0,-1);E(e),V((e=>e-1))})(),children:"Remove Last Entry"})]}),(0,f.jsx)(y.n,{variant:"underline-border"}),(0,f.jsx)(d.b,{children:(0,f.jsx)("strong",{children:"Teachers"})}),_.map(((e,t)=>(0,f.jsxs)(a.Fragment,{children:[(0,f.jsxs)(o.b,{md:4,children:[(0,f.jsx)(m.L,{htmlFor:"validationCustom12",children:"Name"}),(0,f.jsx)(h.j,{type:"text",id:"validationCustom12",name:e.name})]}),(0,f.jsxs)(o.b,{md:4,children:[(0,f.jsx)(m.L,{htmlFor:"validationCustom13",children:"specialized In"}),(0,f.jsx)(h.j,{type:"text",id:"validationCustom13",name:e.specializedIn})]}),(0,f.jsxs)(o.b,{md:4,children:[(0,f.jsx)(m.L,{htmlFor:"validationCustom14",children:"Experience in years"}),(0,f.jsx)(h.j,{type:"text",id:"validationCustom14",name:e.experience})]})]},t))),(0,f.jsxs)(o.b,{xs:12,className:"text-end",children:[(0,f.jsx)(v.u,{color:"primary",style:{marginRight:"20px"},onClick:()=>{const e=parseInt(q)+1;z(e),T((t=>[...t,{name:"teacherlist-nameOfTheTeacher-".concat(e),specializedIn:"teacherlist-specializedIn-".concat(e),experience:"teacherlist-expirence-".concat(e)}]))},children:"Add New Entry"}),_.length>1&&(0,f.jsx)(v.u,{color:"danger",style:{color:"white"},onClick:()=>(()=>{const e=_.slice(0,-1);T(e),z((e=>e-1))})(),children:"Remove Last Entry"})]}),(0,f.jsx)(y.n,{variant:"underline-border"}),(0,f.jsx)(d.b,{children:(0,f.jsx)("strong",{children:"Aminities"})}),A.map(((e,t)=>(0,f.jsxs)(a.Fragment,{children:[(0,f.jsxs)(o.b,{md:6,children:[(0,f.jsx)(m.L,{htmlFor:"validationCustom12",children:"Name"}),(0,f.jsx)(h.j,{type:"text",id:"validationCustom12",name:e.name})]}),(0,f.jsxs)(o.b,{md:6,children:[(0,f.jsx)(m.L,{htmlFor:"validationCustom13",children:"Description"}),(0,f.jsx)(p.P,{type:"text",id:"validationCustom13",name:e.description})]})]},t))),(0,f.jsxs)(o.b,{xs:12,className:"text-end",children:[(0,f.jsx)(v.u,{color:"primary",style:{marginRight:"20px"},onClick:()=>{const e=parseInt(P)+1;Z(e),R((t=>[...t,{name:"aminitiesList-name-".concat(e),description:"aminitiesList-description-".concat(e)}]))},children:"Add New Entry"}),A.length>1&&(0,f.jsx)(v.u,{color:"danger",style:{color:"white"},onClick:()=>(()=>{const e=A.slice(0,-1);R(e),Z((e=>e-1))})(),children:"Remove Last Entry"})]}),(0,f.jsx)(o.b,{xs:12,children:(0,f.jsx)(v.u,{color:"success",type:"submit",children:"Save"})})]})})]})]})})})}}}]);
//# sourceMappingURL=3867.34c2b427.chunk.js.map